<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Miraa – DEMNKA</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="logo_symbol.png" />

  <!-- Firebase v10 CDN -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";

    // TODO: THAY BẰNG CONFIG CỦA BẠN
    const firebaseConfig = {
      apiKey: "AIzaSyBkCyKuDLdNjNhB_vIE4IYO6VtWRQ8wC14",
      authDomain: "miraa-8b1d8.firebaseapp.com",
      projectId: "miraa-8b1d8",
      appId: "1:954725414931:web:37054c7204e75ac46a27e6"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const provider = new GoogleAuthProvider();

    // Expose cho app.js
    window.__FIREBASE__ = { auth, provider, onAuthStateChanged, signInWithPopup, signOut };
  </script>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="./logo_symbol.png" alt="DEMNKA" class="logo">
      <span>DEMNKA · Miraa</span>
    </div>

    <div class="auth">
      <button id="btnSignIn" class="btn neon">Đăng nhập Google</button>
      <button id="btnSignOut" class="btn ghost" style="display:none">Đăng xuất</button>
      <span id="who" class="user"></span>
    </div>
  </header>

  <main class="wrap">
    <div class="input-row">
      <input id="ytInput" class="input" placeholder="https://www.youtube.com/watch?v=..." />
      <button id="btnFetch" class="btn primary">Lấy phụ đề</button>
    </div>

    <div id="status" class="status muted"></div>

    <section class="player-area">
      <video id="video" controls playsinline></video>
      <div id="subs" class="subs"></div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
